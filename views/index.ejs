<% include guestheader %>
	<div class="container">
			<div class="row">
				<div class="col-sm-12  overlay">
				<<!-- h2 class="hero">
					Can I drink it?</h2> -->
					<h3 class="hero">
					Real time water data, real time water action</h3>
					<form class="heroForm" method="POST" action="/dashboard/search">
						<h2 style="text-align:center;"> Water quality search</h2>
						<h3 style="text-align:center;">Find water status and clean water locations</h3>
						<!-- <div class="row">
							<div class="col-sm-12 col-md-3 ">
								
								<a class="btn special"><img class="icon" src="/images/cleaning.png"/> Cooking/Cleaning</a>
							</div>
							<div class="col-sm-12 col-md-3 ">
								
								<a class="btn special"><img class="icon" src="/images/personalcare.png"/> Personal Care</a>
							</div>
							<div class="col-sm-12 col-md-3 ">
								
								<a class="btn special"><img class="icon" src="/images/todo.png"/> Errands and Chores</a>
							</div>
							<div class="col-sm-12 col-md-3 ">
							
								<a class="btn special"><img class="icon" src="/images/alzheimers.png"/> Alzheimers</a>
							</div>
						</div> -->
						<div class="row">
							<div class="col-sm-12 col-md-12">
							<label>Enter a city:</label>
								<input class="form-control" id="auto-complete" type="text" placeholder="Enter a City" name="city_search">
								<input class="form-control" id="city" type="hidden"  name="city">
								<input class="form-control" id="state" type="hidden"  name="state">
								<input class="form-control" id="zip" type="hidden"  name="zip">
								<input class="form-control" id="latitude" type="hidden"  name="latitude">
								<input class="form-control" id="longitude" type="hidden"  name="longitude">
							
							</div>
							<!-- <div class="col-sm-12 col-md-3">		
							<label> Starting	</label>
								<input class="form-control" type="date" placeholder="Start Date" name="start_date" required>
						
							</div> -->
							<!-- <div class="col-sm-12 col-md-3">		
							<label>Ending	</label>
								<input class="form-control" type="date" placeholder="Start Date" name="end_date" required>
						
							</div> -->
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-2">
								<!-- <a class="btn frequency">One time</a> -->
							</div>	
							<div class="col-sm-12 col-md-2">
								<!-- <a class="btn frequency">Daily</a> -->
							</div>
							<div class="col-sm-12 col-md-2">
							<!-- 	<a class="btn frequency">Weekly</a> -->
							</div>
							<div class="col-sm-12 col-md-2">
							<!-- 	<a class="btn frequency">Monthly</a> -->
							</div>
							<div class="col-sm-12 col-md-4">
								<button type="submit" class="btn btn-large btn-success pull-right search">Search<button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<!-- <div class="row">
			<h3 class="below_hero">Providing volunteer in home healthcare to seniors who can't afford it.</h3>
		</div> -->
		</div>
	</body>
</html>
<script>
// $(function() {
// 	$(".special").click(function(){
// 		// alert('clicked');
// 		$(".special").removeClass("active");
// 		$(this).addClass("active");
// 		})
// 	})

// $(function() {
// 	$(".frequency").click(function(){
// 		// alert('clicked');
// 		$(".frequency").removeClass("active");
// 		$(this).addClass("active");
// 		})
// 	})

var options = {

}


var input = document.getElementById('auto-complete');
var autocomplete = new google.maps.places.Autocomplete(input,options)


 google.maps.event.addListener(autocomplete, 'place_changed', function () {
            var place = autocomplete.getPlace();
            // document.getElementById('city2').value = place.name;
            // document.getElementById('cityLat').value = place.geometry.location.lat();
            var formattedAddress = place.formatted_address;
            var individualAddressComponents = formattedAddress.split(',');
            var stateString = individualAddressComponents[2];
            var state = stateString.substring(0,3);
            var zip = stateString.substring(4,9)
            document.getElementById('latitude').value = place.geometry.location.lng();
            document.getElementById('longitude').value = place.geometry.location.lat();
            // document.getElementById('street_number').value = place.name;
            // // document.getElementById('street_name').value = place.address_components[1].long_name
            document.getElementById('city').value = individualAddressComponents[0];
            document.getElementById('state').value = individualAddressComponents[1];
            document.getElementById('zip').value = zip;
            console.log("This function is working!");
            console.log(place.name);
            // console.log(place);
            // var addressComponents = input.split(',');
            console.log(place.formatted_address);
            console.log(individualAddressComponents);
            console.log(stateString);

            console.log(place.geometry.location.lng());
            console.log(place.geometry.location.lat());
            
            console.log(state);
            console.log(zip);

            
           //  console.log(place.address_components);
           // console.log(place.address_components[0].long_name);
           // console.log(place.geometry.location.lat());

        });

 </script>
